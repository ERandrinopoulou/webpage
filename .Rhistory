library(JMbayes)
fitLME <- lme(log(serBilir) ~ drug * ns(year, 2), data = subset(pbc2, id != 2),
random = ~ ns(year, 2) | id)
library(splines)
fitLME <- lme(log(serBilir) ~ drug * ns(year, 2), data = pbc2,
random = ~ ns(year, 2) | id)
newdata <- subset(pbc2, id %in% c(2,3,4,5,6,7))
newdata
DF <- IndvPred_lme(fitLME, newdata = newdata, timeVar = "year",
M = 500, return_data = TRUE)
newdata1 <- subset(pbc2, id %in% c(2,3,4,5,6,7))
DF <- IndvPred_lme(fitLME, newdata = newdata1, timeVar = "year",
M = 500, return_data = TRUE)
newdata1
newdata1 <- subset(pbc2, id %in% c(2))
newdata1
DF <- IndvPred_lme(fitLME, newdata = newdata1, timeVar = "year",
M = 500, return_data = TRUE)
newdata1
DF
DF <- IndvPred_lme(fitLME, newdata = newdata1, timeVar = "year", times = newdata1$years,
M = 500, return_data = TRUE)
DF
newdata1$years
newdata1 <- subset(pbc2, id %in% c(2))
newdata1$years
newdata1 <- subset(pbc2, id %in% c(2))
DF <- IndvPred_lme(fitLME, newdata = newdata1, timeVar = "year", times = newdata1$year,
M = 500, return_data = TRUE)
newdata1$year
newdata1
fitLME <- lme(log(serBilir) ~ drug * ns(year, 2), data = pbc2[pbc2$id != 2,],
random = ~ ns(year, 2) | id)
pbc2[pbc2$id != 2,]
newdata1 <- subset(pbc2, id %in% c(2))
DF <- IndvPred_lme(fitLME, newdata = newdata1, timeVar = "year", times = newdata1$year,
M = 500, return_data = TRUE)
newdata1$year
newdata1
DF <- IndvPred_lme(fitLME, newdata = newdata1, timeVar = "year",
M = 500, return_data = TRUE)
DF
newdata1$year[-1]
newdata1
DF <- IndvPred_lme(fitLME, newdata = newdata1[1,], timeVar = "year", times = newdata1$year[-1],
M = 500, return_data = TRUE)
DF
DF <- IndvPred_lme(fitLME, newdata = newdata1[1,], timeVar = "year", times = newdata1$year[-1],
M = 500, return_data = FALSE)
DF
DF <- IndvPred_lme(fitLME, newdata = newdata1[1,], timeVar = "year", times = newdata1$year[-1],
M = 500, return_data = FALSE)$predicted_y
DF
DF
pbc2[!pbc2$id %in% 2,]
fitLME <- lme(log(serBilir) ~ drug * ns(year, 2), data = pbc2[!pbc2$id %in% c(2, 3, 4),],
random = ~ ns(year, 2) | id)
fitLME <- lme(log(serBilir) ~ drug * ns(year, 2), data = pbc2[!pbc2$id %in% c(2, 3, 4),],
random = ~ ns(year, 2) | id)
newdata1 <- subset(pbc2, id %in% c(2, 3, 4))
DF <- IndvPred_lme(fitLME, newdata = newdata1[1,], timeVar = "year", times = newdata1$year[-1],
M = 500, return_data = FALSE)$predicted_y
DF
newdata1$year[-1]
newdata1
plit(newdata1, f = seq(nrow(newdata1)))
split(newdata1, f = seq(nrow(newdata1)))
split(newdata1, f = newdata1$id)
split(newdata1, newdata1$id)
?split
split(newdata1, function(x) x$id)
split(newdata1, function(x) x$id)
split(newdata1, f = newdata1$id)
newdata1$id
split(newdata1, newdata1$id)
split(newdata1[,], newdata1$id)
newdata1$id
as.list(newdata1)
?as.list
split(newdata1, newdata1$id)
split(newdata1, newdata1$id)[[1]]
datalists
datalists <- split(newdata1, newdata1$id)
datalists[[2]]
datalists <- datalists[lapply(datalists,length)>0]
datalists
lapply(datalists,length)
datalists <- datalists[lapply(datalists,dim)>0]
Filter(length, datalists)
datalists <- datalists[lapply(datalists,row.names)>0]
datalists <- datalists[lapply(datalists,length(row.names))>0]
list.clean(datalists)
lapply(datalists, funtionc(x) is.na(x))
lapply(datalists, funtionc(x) is.missing(x))
datalists[lengths(datalists) > 0L]
lengths(datalists)
datalists[dim(datalists)[1] > 0L]
dim(datalists)[1]
datalists[unlist(lapply(datalists, length) != 0)]
install.packages("rlist")
library(rlist)
list.clean(datalists)
lapply(datalists, function(x) nrow(x))
lapply(datalists, function(x) nrow(x)) != 0
datalists[[lapply(datalists, function(x) nrow(x)) != 0]]
ind <- lapply(datalists, function(x) nrow(x)) != 0
ind
datalists[[ind]]
ind <- which(lapply(datalists, function(x) nrow(x)) != 0)
ind
datalists[[ind]]
datalists[ind]
datalists
lapply(datalists, function(x) IndvPred_lme(fitLME, newdata = x[1,], timeVar = "year", times = x$year[-1],
M = 500, return_data = FALSE)$predicted_y)
datalists
datalists <- datalists[ind]
datalists
lapply(datalists, function(x) IndvPred_lme(fitLME, newdata = x[1,], timeVar = "year", times = x$year[-1],
M = 500, return_data = FALSE)$predicted_y)
load("G:/2014-10 PostDoc/Collaboarations/ErasmusMC/Rehabilitation Medicine/2018-05-01 R. Nijland - ARAT prediction/ModelBulding.RData")
summary(final.model1)
library(JMbayes)
summary(final.model1)
summary(final.model1)
summary(final.model1)[[10]]
summary(final.model1)[[11]]
summary(final.model1)[[12]]
summary(final.model1)[[13]]
summary(final.model1)[[14]]
summary(final.model1)[[15]]
summary(final.model1)[[16]]
summary(final.model1)[[17]]
summary(final.model1)[[18]]
summary(final.model1)[[19]]
summary(final.model1)[[20]]
library(shiny); runApp('G:/2014-10 PostDoc/Collaboarations/ErasmusMC/Rehabilitation Medicine/Papers/2018-12-27 ARAT dynamic prediction/ShinyApp/DynamicPredictionARATapp.R')
load("Z:/LCJM/Analysis/fitLCLME_4outcomes_2classes.RData")
summary(fitLCLME)
library(shiny); runApp('G:/2014-10 PostDoc/Collaboarations/ErasmusMC/Rehabilitation Medicine/Papers/2018-12-27 ARAT dynamic prediction/ShinyApp/DynamicPredictionARATapp.R')
setwd("G:/CVs/Blogdown/erandrinopoulou.github.io")
blogdown:::serve_site()
